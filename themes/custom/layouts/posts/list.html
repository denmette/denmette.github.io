{{ define "main" }}
  <div class="mx-auto flex w-full max-w-3xl flex-col gap-6 text-slate-800 dark:text-slate-100">
    <h1 class="hidden">Laatste posts</h1>
    <div class="flex flex-col gap-6">
      {{- $pageSize := 5 -}}
      {{- $posts := where .Site.RegularPages "Section" "posts" -}}
      {{- $paginator := .Paginator -}}
      {{- if not $paginator -}}
        {{- $paginator = .Paginate $posts $pageSize -}}
      {{- end -}}
      {{- if and (eq $paginator.PageNumber 1) (gt (len $paginator.Pages) 0) -}}
        {{- $featured := index $paginator.Pages 0 -}}
        {{ partial "featured-post-card.html" (dict "page" $featured) }}
      {{- end -}}
      {{- $listPages := $paginator.Pages -}}
      {{- if and (eq $paginator.PageNumber 1) (gt (len $paginator.Pages) 0) -}}
        {{- $listPages = after 1 $paginator.Pages -}}
      {{- end -}}
      {{ range $listPages }}
        {{ partial "post-card.html" (dict "page" .) }}
      {{ end }}
    </div>
    {{ partial "pagination.html" (dict "p" $paginator) }}
  </div>
{{ end }}
